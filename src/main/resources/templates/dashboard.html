<!DOCTYPE html>
<html lang=en xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <link rel="stylesheet" th:href="@{/css/modals.css}"/>
    <link rel="shortcut icon" th:href="@{/images/favicon.png}" sizes = "48x48" type="image/x-icon">
    <title>Home - TeacherDemoKostis</title>
    <script type="text/javascript" src="../static/js/main.js" th:src="@{/js/main.js}"></script>
    <script type="text/javascript" src="../static/js/search.js" th:src="@{/js/search.js}"></script>
</head>
<body>

<div class="header">
    <div class="header-content">
        <div class="header-title">TeachersDemoKostis Java FullStack Web App</div>
        <a href="#" th:href="@{/logout}" class="logout-button" title="Logout"> Logout
            <i class="fa-solid fa-arrow-right-from-bracket"></i>
        </a>
    </div>
</div>

<!-- Teacher Table -->
<div th:replace="tableFragments/teacherTableFragment :: teacherTableFragment"></div>

<!-- Student Table -->
<div th:replace="tableFragments/studentTableFragment :: studentTableFragment"></div>

<!-- Course Table -->
<div th:replace="tableFragments/courseTableFragment :: courseTableFragment"></div>

<!-- Roles Table -->
<div th:replace="tableFragments/roleTableFragment :: roleTableFragment"></div>

<!-- All CRUD Fragment Modals -->
<div th:replace="modals/allCrudFragments :: allCrudFragments"></div>

<!-- Growl messages (pop-up) - Modal-->
<div id="infoGrowlModal" class="modal2">
    <div th:replace="modals/infoGrowlModal :: infoGrowlFragment"></div>
</div>

<div id="errorGrowlModal" class="modal2">
    <div th:replace="modals/errorGrowlModal :: errorGrowlFragment"></div>
</div>

<script th:inline="javascript">
    /*<![CDATA[*/

    // document.addEventListener("DOMContentLoaded", function() {
    //    alert('hi');
    // });

    window.onload = function () {
        const hasInfoMsg = [[${successMessage}]];
        const hasErrorMsg = [[${errorMessage}]];
        const hasWelcomeMsg = [[${welcomeMsg}]];

        console.log("hasWelcomeMsg: " + hasWelcomeMsg);
        console.log("hasInfoMsg: " + hasInfoMsg);
        console.log("hasErrorMsg: " + hasErrorMsg);

        if (hasInfoMsg) {
            triggerGrowlModal([[${successMessage}]], false); // success growl modal
        } else if (hasErrorMsg) {
            triggerGrowlModal([[${errorMessage}]], true); // error growl modal
        } else if (hasWelcomeMsg) {
            triggerGrowlModal([[${welcomeMsg}]], false); // success growl modal
        }
    }

    /*]]>*/
</script>

<footer>
    <p style="text-align: center">
        <span>Â© 2024 </span>
        <span style="font-weight:bold; color: #008ead">Efthimis Kostis</span>
        <span> - All Rights Reserved.</span>
    </p>
</footer>


<script src="https://code.jquery.com/jquery-3.6.4.min.js"  crossorigin="anonymous"></script>

<!--<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" crossorigin="anonymous">-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>-->
</body>
</html>